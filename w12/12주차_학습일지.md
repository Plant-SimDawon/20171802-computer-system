### 컴퓨터시스템관리 / 20171802 심다원

###  **과제 -  Server(b) 에 메일 서버를 추가를 구축하여 이메일 주고 받기**  ###   
  +               


   + 영상:   https://youtu.be/h84mKMG3_yY              

     
---   

## 210518. 12차 실습 일지


### **새로 배운 내용** ###
  
  #### 원격 접속 구축 - openssh ####  
   + server 및 server(b) 초기화      
   + openssh 접속 환경 설정    
   + adduser linux (server)        
   + adduser linux-b (server (b))   
   + openssh 설치 및 설정        
   + 백업하기              
   + 클라이언트 프로그램 설치 - Windows Terminal(윈도우에서 command prompt, powershell, wsl 등 다양한 shell 사용가능)  
#### Mail Server ####    

  + Email의 송수신에서 사용되는 프로토콜                   
    + 네임서버 - 웹서비스 사용시 반드시 사용하게 됨.(다음을 사용할려면 다음의 IP 주소 필요)    
    + SMTP - 메일을 주고 받는 서버          
    + POP3 - 메일을 받는 서버          
    + IMAP - POP3과 유사하지만 중앙서버에서 동기화되어 모든 장치에서 동일한 이메일 확인 가능, 메일서버에서 메일을 복사해옴   
    + Client가 다음 주소를 사용해서 메일을 사용한다면 다음의 메일 서버를 받아오기
    + 상대방이 네이버 메일 주소를 사용한다면 네임서버에 가서 네이버 서버를 알아오기
    + 인터넷을 통해 보낸다. 메일 서버에 메일이 도착해있지만 메일이 도착했는지 알수없고    
    + 메일 서버에 도착해있는 메일을 로컬장치로 다운받아와야한다(이때 POP3 사용됨)              
     
#### Mail Server ####     
  + Sendmail                   
    + 메일 클라이언트1 이 메일을 보내면 샌드메일로 가서 메일 큐라는 곳에 등록               
    + MDA를 통해 인터넷으로 메일을 보내게됨              
    + 보낼때 SMTP 에 맞춰서 메일을 보내게 되는데 메일이 메일 클라이언트 2의 샌드메일로 전송이 됨        
    + 그 이후 MDA 를 통해 메일 박스에 저장이 되고 그걸 클라이언트2로 보냄      
 
   
#### Round Robin DNS ####         
  + 메일을 주고 받는 데 사용되는 프로토콜이자 서버는 세가지
  + 네임서버 메일서버에서 메일을 주고 받을때 쓰는 smtp (메일 송수신)
  + 메일을 클라이언트에게 받는 프로토콜이자 서버인 pop3(메일 받을때), imap(동기화돼서 받을때) 
  + 포트: 방화벽을 통과할 수 있는 문 번호이자 원격 접속이나 메일을 주고 받을때마다 운영체제 상에서는 프로세스들이 
    동작되고 있는데 해당 프로세스에게 전송되는 번호           
    
   
          


### **문제가 발생하거나 고민한 내용 + 해결 방안** ###

  
  + caching only name server 구축할때 vi /etc/bind/named.conf.options 에서         
    allow-query { any; }; 에서 any 뒤에 세미콜론을 빼고 써서 오류를 찾아야 했다.                 
 https://user-images.githubusercontent.com/79961001/119337916-562ae700-bcca-11eb-9df3-29e07c12bd7a.png


### **참고할만한 내용** ###     
  https://dololak.tistory.com/114
  
  https://withcoding.com/112
      
  
### **회고(좋았던 점, 아쉬웠던 점, 새로 알게된 점)**

**좋았던 점**   
```
내 client 컴퓨터 웹브라우저에서 www.dawon.com을 통해 사이트에 접속할 수 있는게 신기했다.    
그리고 이용자가 많은 사이트는 라운드 로빈 방식으로 kr, ftp, www... 등등의 주소로 실행된다는 것도 처음 알았다.    
주소를 입력하고 접속할때 단 시간에 이렇게 많은 작업들이 일어난다는 것을 알게 되어 좋았다.     
```
**아쉬웠던 점**      
```
이름들이 쉽지가 않고 네트워크적인 부분에서 조금 더 생각해봐야하는 부분들이 많아서       
조금더 읽어보면서 완벽하게 이해할 수 있도록 노력해야 할 것 같다.           
```

**새로 알게된 점**   
```
사이트의 ip 주소만 제대로 알고 있으면 nameserver 를 주석처리하더라도 서버가 멈춘 것은 아니기 때문에      
ping 이 돌아가는게 신기했다. 그리고 원격 접속 사용자 계정을 생성하는 방법도 간단했고    
이번 시간에 사용한 git-bash 로 접속하는 것도 쉬워서 원격 접속이 그렇게 어려운 일이 아니라는 걸 확실히 알게 되었다.    
```


