### 컴퓨터시스템관리 / 20171802 심다원

###  **과제 - 유용한 bash script_계산기**  ###      
  + 문자열 형식의 장문 사칙연산 계산이 가능한 계산기이다.
  + 리눅스 쉘 스크립트에서 제공해주는 bc를 사용하여 사칙연산과 괄호를 받아 계산이 가능하다.     

<img src="https://user-images.githubusercontent.com/79961001/114729934-61116400-9d7b-11eb-9d9e-a31d32f11147.png"></img><br/>      
<img src="https://user-images.githubusercontent.com/79961001/114730739-1a703980-9d7c-11eb-9c44-a24c757c203c.png"></img><br/>     
      
     
---   

## 210413. 7주차 실습 일지


### **새로 배운 내용**
  
  #### Shell ####  
  
  + Shell      
    + 사용자의 명령을 해석하여 커널에 전달       
    + 사용자가 직접 하드웨어를 제어하긴 어렵고 사용자의 명령이 shell 을 통해 전달되어 커널을 거쳐 하드웨어 제어가 이루어짐      
    + shell 의 종류: 1. bash 2. zshell 3. cshell ...         


  + Shel Script
    + 명령어 집합
    + c언어와 뿌리가 같아 비슷한 문법     
    + 과정이 복잡하여 하나라도 빠지며 문제가 생기거나, 매일 또는 주기적으로 해야하는 명령의 집합            
    + 시스템을 사용하여 환경 설정하는 경우, 애플리케이션을 설치할 경우, 매일 점검해야하느 시스템 상태 체크 등           
    + 주로 시스템 관리자가 사용      
     

 
  #### Shell - Bash ####    
  
  + bash (Bourne Again Shell)      
    + Bourne Shell 을 개선하고 오픈소스로 만듦           
    + 1989년, 브라이언 폭스가 발표한 유닉스 셸          
    + 우분투에서 기본으로 사용하는 셸      
    +    
  + bash 특징
    + alias 기능 (명령 단축 기능)
    + history 기능
    + 연산 기능
    + job control 기능
    + 자동 이름 완성 기능
    + 프롬프트 제어 기능
    + 명령 편집 기능               
  + bash 셸의 명령문 처리 방법 
    + (프롬프트) 명령 [옵션...] [인자...]        
    + ls /bin              ls -l              rm -rf /mydir     
  
  
  #### Shell ####     
  
  + 환경 변수
    + echo $환경변수이름 (echo-화면에 출력해줌)              
  + 환경 변수 설정 : export 환경변수=값            
    + export HI='hi'  (새로운 환경 변수 등록).      
    + echo $HI (hi 가 출력됨)
    + unset HI (해제)       
  + 환경변수 확인
    + printenv                    
   
   
   #### 실습 - Shell Script Programming ####     
  
  + Hello World 출력      
    + 화면에 Hello World 를 출력하는 스크립트를 작성
    + 파일명 : hello.sh       
        ``` 
        vi hello.sh       
        #!/bin/bash //쉘스크립트 쓸거라고 알림     
        echo "Hello World!"   
        bash hello.sh```          
        
  + 환경 변수를 이용하여 정보 출력     
    + 사용자의 이름, 운영체제 타입, 로그인해서 사용하느 셸을 출력하는 스크립트 작성
    + 파일명 : info.sh          
   
  + 스크립트 파일 실행      
    + bash info.sh     
    + chmod +x info.sh    ->      ./info.sh        
   
  + 변수
    + 미리 선언핮 않으며 처음 변수에 값이 할당되면 자동을 변수 생성
    + 변수에 넣는 모든 값은 문자열로 취금
      + 숫자를 넣기 위해서는 expr 키워드 사용
      + 수식은 ₩(백쿼트)로 묶어서 사용     
      + 괄호와 * 앞에 \를 추가해야함
    + 변수값을 사용하기 위해서는 변수명 앞에 $ 표시 (echo $var)
    + 변수에 값을 대입할 때느 $ 사용하지 않음
    + 대소문자 구분, 대입 연산자 '=' 좌우에 공백 없어야함
    + 파라미터 변수 
      + $0, $1, $2 의 형태      
      + 실행하는 명령으 각 부분으 변수로 지정       
      + 모든 인자는 $*          
    ```vi variable.sh    
    #!/bin/bash    
    var=""    
    echo "input: "
    read var   //키보드값 입력해서 var 에 넣어짐      
    echo "input data is " $var            
    exit 0     ```       
    
    
    ```vi parameter.sh     
    #!/bin/bash      
    echo "first parameter : $1"  //$0을 하면 parameter.sh가 출력됨         
    exit 0      ```     
    
    
  + 조건문    
    + [조건] 의 결과가 참 또는 거짓에 따라 동작하는 구조       
    + [조건] 안의 각 단어 사이에 **공백**이 있어야함    
    <img src="https://user-images.githubusercontent.com/79961001/114733170-16ddb200-9d7e-11eb-8057-60a8d13067ca.png"></img><br/>     
   

  #### 실습 - Shell Script Programming ####     
  
    + 


  #### 작업 예약 - cron & at ####     
  
    + cron 
      + 주기적으로 반복되는 일을 자동으로 실행할 수 있도록 시스템 작업을 예약
      +  


                
 

 
    
### **문제가 발생하거나 고민한 내용 + 해결 방안**  

  
  + 쿼터 실습할때 파일를 복사해서 용량 제한 확인을 하려고 했는데 vmlinuz.old 파일이 접근이 안돼서   
    읽기가 허가된 파일을 찾아서 cp /boot/memtest86+.bin test1 을 통해서 파일을 복사해올 수 있었다.
    <img src="https://user-images.githubusercontent.com/79961001/113747383-4b2fed80-9742-11eb-84b0-e4ca69898155.png"></img><br/>             



### **참고할만한 내용**      
  + 유용한 bash script
    https://kangsecu.tistory.com/54   
      
  
### **회고(좋았던 점, 아쉬웠던 점, 새로 알게된 점)**

**좋았던 점**   
```
정말 리눅스 실습실의 조교가 된 것 처럼 사용자 별로 각각 다른 공간을 할당하는 쿼터를 해본 것도    
하드디스크를 논리 볼륨을 통해 저장 공간을 원하는 개수로 사용할 수 있는 것도 좋았다.
그리고 하드디스크에 문제가 생겼을 때 다른 하드디스크로 교체를 하여 복구하는 방법을 알게 된것이 가장 뿌듯했다.
```
**아쉬웠던 점**      
```
server(b)가 어찌된 일인지 GNOME을 깔기 전 상태로 돼있어서 GNOME을 까는 것부터 해야했어서 과제 실습하는데 시간이 많이 걸렸다.     
그래도 한번 해봤던거라서 시간이 좀 걸렸던 거 빼고는 수월하게 잘 진행할 수 있었다.
```

**새로 알게된 점**   
```
사용자 계정 별로 생성할 수 있는 파일의 용량이나 개수를 직접 정할 수 있다는 게 정말 신기했다.   
그리고 내가 실습했던 파일은 할당된 용량이 부족할 만큼 큰 파일이 아니었어서 grace 에 날짜가 뜨진 않았지만   
며칠 후에 데이터가 없어진다는 걸 알려주는 것도 그것 또한 설정할 수 있는 것도 신기했다.   
```
